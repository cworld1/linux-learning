"use strict";(self.webpackChunklinux_learning=self.webpackChunklinux_learning||[]).push([[8859],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>d});var l=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,l,a=function(e,t){if(null==e)return{};var n,l,a={},i=Object.keys(e);for(l=0;l<i.length;l++)n=i[l],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)n=i[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var k=l.createContext({}),u=function(e){var t=l.useContext(k),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},m=function(e){var t=u(e.components);return l.createElement(k.Provider,{value:t},e.children)},o={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},N=l.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,k=e.parentName,m=p(e,["components","mdxType","originalType","parentName"]),N=u(n),d=a,s=N["".concat(k,".").concat(d)]||N[d]||o[d]||i;return n?l.createElement(s,r(r({ref:t},m),{},{components:n})):l.createElement(s,r({ref:t},m))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,r=new Array(i);r[0]=N;var p={};for(var k in t)hasOwnProperty.call(t,k)&&(p[k]=t[k]);p.originalType=e,p.mdxType="string"==typeof e?e:a,r[1]=p;for(var u=2;u<i;u++)r[u]=n[u];return l.createElement.apply(null,r)}return l.createElement.apply(null,n)}N.displayName="MDXCreateElement"},2224:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>k,contentTitle:()=>r,default:()=>o,frontMatter:()=>i,metadata:()=>p,toc:()=>u});var l=n(7462),a=(n(7294),n(3905));const i={},r="\u7cfb\u7edf\u76d1\u89c6\u4e0e\u7cfb\u7edf\u65e5\u5fd7",p={unversionedId:"main/sys-monitor-and-log",id:"main/sys-monitor-and-log",title:"\u7cfb\u7edf\u76d1\u89c6\u4e0e\u7cfb\u7edf\u65e5\u5fd7",description:"\u5173\u4e8e Linux \u7cfb\u7edf\u76d1\u89c6\u4e0e\u7cfb\u7edf\u65e5\u5fd7\u7684\u8bb2\u89e3\u3002",source:"@site/docs/main/11-sys-monitor-and-log.md",sourceDirName:"main",slug:"/main/sys-monitor-and-log",permalink:"/en/docs/main/sys-monitor-and-log",draft:!1,editUrl:"https://github.com/cworld1/linux-learning/blob/main/docs/main/11-sys-monitor-and-log.md",tags:[],version:"current",sidebarPosition:11,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u8fdb\u7a0b\u7ba1\u7406",permalink:"/en/docs/main/process-management"},next:{title:"\u9644\u52a0\u7ae0\u8282",permalink:"/en/docs/category/\u9644\u52a0\u7ae0\u8282"}},k={},u=[{value:"\u5b66\u4e60\u76ee\u6807",id:"\u5b66\u4e60\u76ee\u6807",level:2},{value:"\u76d1\u89c6\u7cfb\u7edf\u6027\u80fd",id:"\u76d1\u89c6\u7cfb\u7edf\u6027\u80fd",level:2},{value:"\u7cfb\u7edf\u6027\u80fd\u76d1\u89c6\u5e38\u7528\u5de5\u5177",id:"\u7cfb\u7edf\u6027\u80fd\u76d1\u89c6\u5e38\u7528\u5de5\u5177",level:3},{value:"top \u547d\u4ee4\u8be6\u89e3",id:"top-\u547d\u4ee4\u8be6\u89e3",level:3},{value:"\u8f93\u51fa\u7b2c\u4e00\u884c",id:"\u8f93\u51fa\u7b2c\u4e00\u884c",level:4},{value:"\u8f93\u51fa\u7b2c\u4e8c\u884c",id:"\u8f93\u51fa\u7b2c\u4e8c\u884c",level:4},{value:"\u8f93\u51fa\u7b2c\u4e09\u884c",id:"\u8f93\u51fa\u7b2c\u4e09\u884c",level:4},{value:"\u8f93\u51fa\u7b2c\u56db\u3001\u4e94\u884c",id:"\u8f93\u51fa\u7b2c\u56db\u4e94\u884c",level:4},{value:"\u5217\u8868\u8f93\u51fa\u5185\u5bb9",id:"\u5217\u8868\u8f93\u51fa\u5185\u5bb9",level:4},{value:"top \u7684\u4ea4\u4e92\u547d\u4ee4",id:"top-\u7684\u4ea4\u4e92\u547d\u4ee4",level:4},{value:"mpstat \u547d\u4ee4\u8be6\u89e3",id:"mpstat-\u547d\u4ee4\u8be6\u89e3",level:3},{value:"vmstat \u547d\u4ee4\u8be6\u89e3",id:"vmstat-\u547d\u4ee4\u8be6\u89e3",level:3}],m={toc:u};function o(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,l.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"\u7cfb\u7edf\u76d1\u89c6\u4e0e\u7cfb\u7edf\u65e5\u5fd7"},"\u7cfb\u7edf\u76d1\u89c6\u4e0e\u7cfb\u7edf\u65e5\u5fd7"),(0,a.kt)("p",null,"\u5173\u4e8e Linux \u7cfb\u7edf\u76d1\u89c6\u4e0e\u7cfb\u7edf\u65e5\u5fd7\u7684\u8bb2\u89e3\u3002"),(0,a.kt)("h2",{id:"\u5b66\u4e60\u76ee\u6807"},"\u5b66\u4e60\u76ee\u6807"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u5b66\u4f1a\u4f7f\u7528 top\u3001mpstat\u3001vmstst\u3001iostat \u5de5\u5177\u5206\u6790\u7cfb\u7edf\u6027\u80fd"),(0,a.kt)("li",{parentName:"ul"},"\u719f\u6089\u7cfb\u7edf\u6027\u80fd\u8bc4\u4f30\u6807\u51c6"),(0,a.kt)("li",{parentName:"ul"},"\u5b66\u4e60 rsyslog \u7684\u914d\u7f6e\u65b9\u6cd5"),(0,a.kt)("li",{parentName:"ul"},"\u5b66\u4e60\u914d\u7f6e\u8fdc\u7a0b\u65e5\u5fd7")),(0,a.kt)("h2",{id:"\u76d1\u89c6\u7cfb\u7edf\u6027\u80fd"},"\u76d1\u89c6\u7cfb\u7edf\u6027\u80fd"),(0,a.kt)("p",null,"\u7cfb\u7edf\u6027\u80fd\u76d1\u89c6\u5bf9\u8c61\uff08\u91cd\u70b9\u901a\u5e38\u4e3a\u5bb9\u6613\u5f62\u6210\u6027\u80fd\u74f6\u9888\u7684\u90e8\u5206\uff09\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"CPU \u6027\u80fd"),(0,a.kt)("li",{parentName:"ul"},"\u5185\u5b58\u6027\u80fd"),(0,a.kt)("li",{parentName:"ul"},"\u78c1\u76d8 I/O \u6027\u80fd"),(0,a.kt)("li",{parentName:"ul"},"\u7f51\u7edc I/O \u5e26\u5bbd")),(0,a.kt)("h3",{id:"\u7cfb\u7edf\u6027\u80fd\u76d1\u89c6\u5e38\u7528\u5de5\u5177"},"\u7cfb\u7edf\u6027\u80fd\u76d1\u89c6\u5e38\u7528\u5de5\u5177"),(0,a.kt)("p",null,"CPU \u76d1\u89c6\u5de5\u5177\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"/usr/bin/uptime"),"\uff1a\u663e\u793a\u7cfb\u7edf\u5e73\u5747\u8d1f\u8f7d"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"/usr/bin/top"),"\uff1a\u52a8\u6001\u663e\u793a\u7cfb\u7edf\u8fdb\u7a0b\u4efb\u52a1"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"/usr/bin/mpstat"),"\uff1a\u8f93\u51fa CPU \u7684\u5404\u79cd\u7edf\u8ba1\u4fe1\u606f")),(0,a.kt)("p",null,"\u5185\u5b58\u76d1\u89c6\u5de5\u5177\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"/usr/bin/free"),"\uff1a\u663e\u793a\u7cfb\u7edf\u5185\u5b58\u7684\u4f7f\u7528"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"/usr/bin/vmstat"),"\uff1a\u62a5\u544a\u865a\u62df\u5185\u5b58\u7684\u7edf\u8ba1\u4fe1\u606f")),(0,a.kt)("p",null,"I/O \u76d1\u89c6\u5de5\u5177\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"/usr/bin/iostat"),"\uff1a\u8f93\u51fa CPU\u3001I/O \u7cfb\u7edf\u548c\u78c1\u76d8\u5206\u533a\u7684\u7edf\u8ba1\u4fe1\u606f")),(0,a.kt)("h3",{id:"top-\u547d\u4ee4\u8be6\u89e3"},"top \u547d\u4ee4\u8be6\u89e3"),(0,a.kt)("p",null,"top \u547d\u4ee4\u540c\u6765\u52a8\u6001\u663e\u793a\u7cfb\u7edf\u7684\u7edf\u8ba1\u4fe1\u606f\u548c\u8fdb\u7a0b\u7684\u91cd\u8981\u4fe1\u606f\u3002"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u7edf\u8ba1\u4fe1\u606f\u5305\u62ec\uff1a"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u7cfb\u7edf\u5e73\u5747\u8d1f\u8f7d")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u8fdb\u7a0b\u72b6\u6001\u7edf\u8ba1")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"CPU \u4f7f\u7528\u7684\u7edf\u8ba1\u4fe1\u606f")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u7269\u7406\u5185\u5b58\u548c\u865a\u62df\u5185\u5b58\u7684\u4f7f\u7528\u7edf\u8ba1\u4fe1\u606f")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u8fdb\u7a0b\u4fe1\u606f\uff0c\u5982\uff1a"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"1  PID USER  PR    NI   VIRT  RES  SHR S %CPU %MEM TIME+  COMMAND\n2  PID PPID  TIME+ %CPU %MEM  PR   NI S  VIRT SWAP RES UID COMMAND\n3  PID %MEM  VIRT  SWAP RES   CODE DATA  SHR  nFLT nDRT S PR NI %CPU COMMAND\n4  PID PPID  UID   USER RUSER TTY  TIME+ %CPU %MEM S COMMAND\n")))),(0,a.kt)("p",null,"\u8f93\u51fa\u7ed3\u679c\u5982\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"top\n# 07:01:55 up 14 min,  1 user,  load average: 0.03, 0.02, 0.00\n# Tasks:  98 total,   2 running,  96 sleeping,   0 stopped,   0 zombie\n# %Cpu(s):  0.0 us,  0.2 sy,  0.0 ni, 98.9 id,  0.0 wa,  0.7 hi,  0.2 si,  0.0 st\n")),(0,a.kt)("h4",{id:"\u8f93\u51fa\u7b2c\u4e00\u884c"},"\u8f93\u51fa\u7b2c\u4e00\u884c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"07:01:55 up 14 min,  1 user,  load average: 0.03, 0.02, 0.00\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"07:01:55"),"\uff1a\u8868\u793a\u5f53\u524d\u65f6\u95f4"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"up 14 min"),"\uff1a\u8868\u793a\u7cfb\u7edf\u81ea\u5f00\u673a\u540e\u8fd0\u884c\u7684\u65f6\u95f4"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"1 user"),"\uff1a\u8868\u793a\u5f53\u524d\u767b\u5f55\u7684\u7528\u6237\u6570"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"load average: 0.03, 0.02, 0.00"),"\uff1a\u8868\u793a\u7cfb\u7edf\u5e73\u5747\u8d1f\u8f7d\uff0c\u5176\u4e2d\uff1a",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"\u7b2c\u4e00\u4e2a\u6570\u8868\u793a 1 \u5206\u949f\u7cfb\u7edf\u5e73\u5747\u8d1f\u8f7d\uff1b"),(0,a.kt)("li",{parentName:"ul"},"\u7b2c\u4e8c\u4e2a\u6570\u8868\u793a 5 \u5206\u949f\u7cfb\u7edf\u5e73\u5747\u8d1f\u8f7d\uff1b"),(0,a.kt)("li",{parentName:"ul"},"\u7b2c\u4e8c\u4e2a\u6570\u8868\u793a 15 \u5206\u949f\u7cfb\u7edf\u5e73\u5747\u8d1f\u8f7d\u3002")))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u4e00\u6bb5\u65f6\u95f4\u5185\uff0c",(0,a.kt)("inlineCode",{parentName:"p"},"load average")," \u4e2d\u7684\u6bcf\u4e2a\u503c\u90fd\u5e94\u8be5\u5c0f\u4e8e\u7cfb\u7edf\u4e2d CPU \u7684\u4e2a\u6570\uff0c\u5426\u5219\u8868\u793a\u7cfb\u7edf\u5b58\u5728 CPU \u74f6\u9888"),(0,a.kt)("p",{parentName:"blockquote"},"\u76f8\u5173\u7684\u4ea4\u4e92\u547d\u4ee4\uff1a\u4ea4\u4e92\u547d\u4ee4 ",(0,a.kt)("inlineCode",{parentName:"p"},"l")," \u662f\u7528\u4e8e\u662f\u5426\u663e\u793a\u6b64\u4fe1\u606f\u7684\u4e52\u4e53\u5207\u6362\u5f00\u5173\u3002")),(0,a.kt)("h4",{id:"\u8f93\u51fa\u7b2c\u4e8c\u884c"},"\u8f93\u51fa\u7b2c\u4e8c\u884c"),(0,a.kt)("p",null,"\u7528\u4e8e\u8f93\u51fa\u6574\u4f53\u8fdb\u7a0b\u72b6\u6001\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"Tasks:  98 total,   2 running,  96 sleeping,   0 stopped,   0 zombie\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"98 total"),"\uff1a\u603b\u8fdb\u7a0b\u6570"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"2 running"),"\uff1a\u6b63\u5728\u8fd0\u884c\u8fdb\u7a0b\u6570"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"96 sleeping"),"\uff1a\u7761\u7720\u7684\u8fdb\u7a0b\u6570"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"0 stopped"),"\uff1a\u505c\u6b62\u7684\u8fdb\u7a0b\u6570"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"0 zombie"),"\uff1a\u50f5\u5c38\u8fdb\u7a0b\u6570")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u50f5\u5c38\u8fdb\u7a0b\u6307\u7684\u662f\u5b50\u8fdb\u7a0b\u9000\u51fa\u540e\u7236\u8fdb\u7a0b\u5e76\u6ca1\u6709\u5904\u7406\u5b50\u8fdb\u7a0b\u7684\u9000\u51fa\u4fe1\u53f7\uff0c\u5bfc\u81f4\u5b50\u8fdb\u7a0b\u53d8\u4e3a\u50f5\u5c38\u8fdb\u7a0b\u3002")),(0,a.kt)("h4",{id:"\u8f93\u51fa\u7b2c\u4e09\u884c"},"\u8f93\u51fa\u7b2c\u4e09\u884c"),(0,a.kt)("p",null,"\u7528\u4e8e\u8f93\u51fa CPU \u4f7f\u7528\u7387\u60c5\u51b5\uff08\u767e\u5206\u6bd4\uff09\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"%Cpu(s):  0.0 us,  0.2 sy,  0.0 ni, 98.9 id,  0.0 wa,  0.7 hi,  0.2 si,  0.0 st\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"0.0 us")," (user)\uff1a\u7528\u6237\u6001\u8fdb\u7a0b\u5360\u7528 CPU \u767e\u5206\u6bd4"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"0.2 sy")," (system)\uff1a\u6838\u5fc3\u6001\u8fdb\u7a0b\u5360\u7528 CPU \u767e\u5206\u6bd4"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"0.0 ni")," (nice)\uff1a\u8c03\u6574\u8fc7\u4f18\u5148\u7ea7\u7684\u7528\u6237\u6001\u8fdb\u7a0b\u5360\u7528 CPU \u65f6\u95f4\u7684\u767e\u5206\u6bd4"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"98.9 id")," (idel)\uff1aCPU \u7a7a\u95f2\u7684\u767e\u5206\u6bd4"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"0.0 wa")," (iowait)\uff1a\u7b49\u5f85\u7cfb\u7edf I/O \u7684 CPU \u65f6\u95f4\u767e\u5206\u6bd4"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"0.7 hi")," (hard interrupt)\uff1a CPU \u7528\u4e8e\u5904\u7406\u786c\u4ef6\u4e2d\u65ad\u7684\u65f6\u95f4\u767e\u5206\u6bd4"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"0.2 si")," (soft interrupt)\uff1a CPU \u7528\u4e8e\u5904\u7406\u8f6f\u4e2d\u65ad\u7684\u65f6\u95f4\u767e\u5206\u6bd4"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"0.0 st")," (steal)\uff1a\u88ab\u865a\u62df\u673a\u5077\u6389\u7684 CPU \u65f6\u95f4\u767e\u5206\u6bd4\uff08\u4ec5\u7528\u4e8e\u8fd0\u884c\u865a\u62df\u673a\u7684\u60c5\u51b5\uff09")),(0,a.kt)("blockquote",null,(0,a.kt)("ul",{parentName:"blockquote"},(0,a.kt)("li",{parentName:"ul"},"\u4ea4\u4e92\u547d\u4ee4 ",(0,a.kt)("inlineCode",{parentName:"li"},"t")," \u662f\u7528\u4e8e\u662f\u5426\u663e\u793a\u8fdb\u7a0b\u72b6\u6001\u7edf\u8ba1\u548c CPU \u4f7f\u7528\u7387\u7684\u4e52\u4e53\u5207\u6362\u5f00\u5173\uff1b"),(0,a.kt)("li",{parentName:"ul"},"\u4ea4\u4e92\u547d\u4ee4 ",(0,a.kt)("inlineCode",{parentName:"li"},"1")," \u662f\u7528\u4e8e\u663e\u793a\u6240\u6709 CPU \u7684\u5e73\u5747\u72b6\u6001\u8fd8\u662f\u6bcf\u4e2a CPU \u72b6\u6001\u7684\u4e52\u4e53\u5207\u6362\u5f00\u5173\u3002"))),(0,a.kt)("h4",{id:"\u8f93\u51fa\u7b2c\u56db\u4e94\u884c"},"\u8f93\u51fa\u7b2c\u56db\u3001\u4e94\u884c"),(0,a.kt)("p",null,"\u7528\u4e8e\u8f93\u51fa\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\uff08MB\uff09\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"MiB Mem :   2766.0 total,    116.0 free,   1613.0 used,   1037.0 buff/cache\nMiB Swap:   2765.0 total,   2710.0 free,     55.0 used.    987.8 avail Mem\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Mem"),"\uff1a\u6307\u7269\u7406\u5185\u5b58\u4f7f\u7528"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Swap"),"\uff1a\u6307\u4ea4\u6362\u7a7a\u95f4\u4f7f\u7528"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"2766.0 total"),"\uff1a\u603b\u91cf"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"116.0 free"),"\uff1a\u7a7a\u95f2\u91cf"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"1613.0 used"),"\uff1a\u4f7f\u7528\u91cf")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"Buffers \u6307\u7684\u662f\u5757\u8bbe\u5907\u7684\u8bfb\u5199\u7f13\u51b2\u533a\uff1bCached \u6307\u7684\u662f\u6587\u4ef6\u7cfb\u7edf\u672c\u8eab\u7684\u9875\u9762\u7f13\u5b58\u3002"),(0,a.kt)("p",{parentName:"blockquote"},"buffers \u548c cached \u90fd\u662f Linux \u64cd\u4f5c\u7cfb\u7edf\u5e95\u5c42\u7684\u673a\u5236\uff0c\u76ee\u7684\u662f\u52a0\u901f\u5bf9\u78c1\u76d8\u7684\u8bbf\u95ee\u3002"),(0,a.kt)("p",{parentName:"blockquote"},"\u4ea4\u4e92\u547d\u4ee4 ",(0,a.kt)("inlineCode",{parentName:"p"},"m")," \u662f\u7528\u4e8e\u662f\u5426\u663e\u793a\u7cfb\u7edf\u5185\u5b58\u548c\u4ea4\u6362\u7a7a\u95f4\u4fe1\u606f\u7684\u4e52\u4e53\u5207\u6362\u5f00\u5173\u3002")),(0,a.kt)("h4",{id:"\u5217\u8868\u8f93\u51fa\u5185\u5bb9"},"\u5217\u8868\u8f93\u51fa\u5185\u5bb9"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"PID  USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND\n5956 cworld    20   0 4124032 226396 138980 S   2.0   8.0   0:08.93 gnome-shell\n6854 cworld    20   0  932972  66740  53316 S   0.7   2.4   0:00.89 gnome-terminal-\n...\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"PID"),"\uff1a\u8fdb\u7a0b\u53f7"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"USER"),"\uff1a\u8fd0\u884c\u7528\u6237"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"PR"),"\uff1a\u4f18\u5148\u7ea7"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"NI"),"\uff1a\u4efb\u52a1 nice \u503c"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"VIRT"),"\uff1a\u865a\u62df\u5185\u5b58\u7528\u91cf"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"RES"),"\uff1a\u7269\u7406\u5185\u5b58\u7528\u91cf"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"SHR"),"\uff1a\u5171\u4eab\u5185\u5b58\u7528\u91cf"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"S"),"\uff1a\u8fdb\u7a0b\u72b6\u6001\uff08R=\u8fd0\u884c\uff1bS=\u7761\u7720\uff1bT=\u8ddf\u8e2a/\u505c\u6b62\uff1bZ=\u50f5\u5c38\uff09"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"%CPU"),"\uff1aCPU \u5360\u7528\u767e\u5206\u6bd4"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"%MEM"),"\uff1a\u5185\u5b58\u5360\u7528\u767e\u5206\u6bd4"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"TIME+"),"\uff1a\u7d2f\u8ba1 CPU \u5360\u7528\u65f6\u95f4"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"COMMAND"),"\uff1a\u6307\u4ee4\u540d\u79f0")),(0,a.kt)("h4",{id:"top-\u7684\u4ea4\u4e92\u547d\u4ee4"},"top \u7684\u4ea4\u4e92\u547d\u4ee4"),(0,a.kt)("p",null,"\u57fa\u7840\u4ea4\u4e92\uff1a"),(0,a.kt)("kbd",null,"Space")," \u6216 ",(0,a.kt)("kbd",null,"Enter"),"\uff1a\u7acb\u5373\u5237\u65b0\u663e\u793a",(0,a.kt)("kbd",null,"?")," \u6216 ",(0,a.kt)("kbd",null,"h"),"\uff1a\u663e\u793a\u5e2e\u52a9\u4fe1\u606f\u5c4f\u5e55",(0,a.kt)("kbd",null,"G")," + ",(0,a.kt)("kbd",null,"[1234]"),"\uff1a\u53ef\u4ee5\u4f7f\u7528 G1~G4 \u5207\u6362 top \u63d0\u4f9b\u7684\u56db\u79cd\u5b57\u6bb5\u65b9\u6848\u7684\u663e\u793a\u7a97\u53e3",(0,a.kt)("kbd",null,"B"),"\uff1a\u52a0\u7c97\u52a0\u4eae\u663e\u793a\u7684\u4e52\u4e53\u5207\u6362\u5f00\u5173",(0,a.kt)("kbd",null,"u"),"\uff1a\u663e\u793a\u6307\u5b9a\u7528\u6237\u7684\u8fdb\u7a0b\uff08\u4ec5\u5339\u914d EUID\uff09",(0,a.kt)("kbd",null,"U"),"\uff1a\u663e\u793a\u6307\u5b9a\u7528\u6237\u7684\u8fdb\u7a0b\uff08\u5339\u914d RUID\u3001EUID\u3001SUID \u548c UID\uff09",(0,a.kt)("kbd",null,"k"),"\uff1a\u6740\u6b7b\u6307\u5b9a\u7684\u8fdb\u7a0b\uff08\u53d1\u9001\u8fdb\u7a0b\u4fe1\u53f7\uff09",(0,a.kt)("kbd",null,"r"),"\uff1a\u91cd\u65b0\u8bbe\u7f6e\u4e00\u4e2a\u8fdb\u7a0b\u7684\u4f18\u5148\u7ea7\u522b",(0,a.kt)("kbd",null,"d")," \u6216 ",(0,a.kt)("kbd",null,"s"),"\uff1a\u6539\u53d8\u4e24\u6b21\u5237\u65b0\u663e\u793a\u4e4b\u95f4\u7684\u65f6\u95f4\u95f4\u9694\uff0c\u5355\u4f4d\u4e3a\u79d2",(0,a.kt)("kbd",null,"W"),"\uff1a\u5c06\u5f53\u524d\u7684 top \u8bbe\u7f6e\u5199\u5165~/.toprc \u6587\u4ef6\u4e2d",(0,a.kt)("kbd",null,"q"),"\uff1a\u9000\u51fa top",(0,a.kt)("p",null,"\u591a\u7a97\u53e3\u663e\u793a\uff1a"),(0,a.kt)("kbd",null,"A"),"\uff1a\u662f\u5426\u5728\u4e00\u4e2a\u754c\u9762\u4e2d\u540c\u65f6\u663e\u793a\u56db\u79cd\u5b57\u6bb5\u65b9\u6848\u663e\u793a\u7a97\u53e3\u7684\u4e52\u4e53\u5207\u6362\u5f00\u5173",(0,a.kt)("kbd",null,"a")," \u548c ",(0,a.kt)("kbd",null,"w"),"\uff1a\u5728\u56db\u79cd\u5b57\u6bb5\u65b9\u6848\u7684\u663e\u793a\u7a97\u53e3\u4e2d\u79fb\u52a8\u4ee5\u786e\u8ba4\u5f53\u524d\u7a97\u53e3\uff1b`a` \u8868\u793a\u4e0b\u4e00\u4e2a\u7a97\u53e3\uff0c`w` \u8868\u793a\u4e0a\u4e00\u4e2a\u7a97\u53e3",(0,a.kt)("p",null,"\u9009\u62e9\u6392\u5e8f\u5b57\u6bb5\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u5feb\u901f\u9009\u62e9\u6392\u5e8f\u5b57\u6bb5\uff1a"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("kbd",null,"M"),"\uff1a\u6309 %MEM \u5b57\u6bb5\u6392\u5e8f"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("kbd",null,"N"),"\uff1a\u6309 PID \u5b57\u6bb5\u6392\u5e8f"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("kbd",null,"P"),"\uff1a\u6309 %CPU \u5b57\u6bb5\u6392\u5e8f"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("kbd",null,"T"),"\uff1a\u6309 TIME+ \u5b57\u6bb5\u6392\u5e8f"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u4ea4\u4e92\u5f0f\u9009\u62e9\u6392\u5e8f\u5b57\u6bb5\uff1a",(0,a.kt)("kbd",null,"F")," \u6216 ",(0,a.kt)("kbd",null,"O"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u5207\u6362\u6392\u5e8f\u5b57\u6bb5\u548c\u9006\u5411\u6392\u5e8f\uff1a"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"\u5207\u6362\u6392\u5e8f\u5b57\u6bb5\uff1a",(0,a.kt)("kbd",null,"\\<")," \u6216 ",(0,a.kt)("kbd",null,">")),(0,a.kt)("li",{parentName:"ul"},"\u9006\u5411\u6392\u5e8f\uff1a",(0,a.kt)("kbd",null,"R"))))),(0,a.kt)("h3",{id:"mpstat-\u547d\u4ee4\u8be6\u89e3"},"mpstat \u547d\u4ee4\u8be6\u89e3"),(0,a.kt)("p",null,"\u529f\u80fd\uff1a\u8f93\u51fa\u6bcf\u4e00\u4e2a CPU \u7684\u8fd0\u884c\u72b6\u51b5\uff0c\u4e3a\u591a\u5904\u7406\u5668\u7cfb\u7edf\u4e2d\u7684 CPU \u5229\u7528\u7387\u63d0\u4f9b\u7edf\u8ba1\u4fe1\u606f\u3002\n\u683c\u5f0f\uff1a",(0,a.kt)("inlineCode",{parentName:"p"},"mpstat [ -P { cpu | ALL } ] [ interval [ count ] ]"),"\n\u5176\u4e2d\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"-P {cpu-id|ALL}"),"\uff1a\u7528 CPU-ID \u6307\u5b9a CPU\uff0cCPU-ID \u4ece 0 \u5f00\u59cb"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"interval"),"\uff1a\u4e3a\u53d6\u6837\u65f6\u95f4\u95f4\u9694"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"count"),"\uff1a\u4e3a\u8f93\u51fa\u6b21\u6570")),(0,a.kt)("p",null,"\u5982\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"mpstat\n# Linux 2.6.18-194.32.1.el5 (centos1.ls-al.me)    04/29/11\n#\n# 12:56:27   CPU  %user  %nice   %sys %iowait   %irq   %soft  %steal   %idle    intr/s\n# 12:56:27       all     3.89   0.00     0.76      4.04     0.02    0.12    0.00    91.18   1050.99\n\nmpstat -P 0\n# Linux 2.6.18-194.32.1.el5 (centos1.ls-al.me)    04/29/11\n#\n# 12:56:37   CPU  %user  %nice   %sys %iowait   %irq   %soft  %steal   %idle    intr/s\n# 12:56:37     0       3.86    0.00       0.75    4.01      0.02    0.12     0.00   91.24   1050.81\n\nmpstat 5 10\nmpstat \u2013P 1  5 10\n")),(0,a.kt)("h3",{id:"vmstat-\u547d\u4ee4\u8be6\u89e3"},"vmstat \u547d\u4ee4\u8be6\u89e3"),(0,a.kt)("p",null,"\u529f\u80fd\uff1a\u663e\u793a\u8fdb\u7a0b\u961f\u5217\u3001\u5185\u5b58\u3001\u4ea4\u6362\u7a7a\u95f4\u3001\u78c1\u76d8 I/O\u3001\u548c CPU \u72b6\u6001\u4fe1\u606f\u3002\n\u683c\u5f0f\uff1a",(0,a.kt)("inlineCode",{parentName:"p"},"vmstat [-a] [-n] [-S k|K|m|M] [Interval [ Count ]]"),"\n\u9009\u9879\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"-a"),"\uff1a\u663e\u793a\u6d3b\u8dc3\u548c\u975e\u6d3b\u8dc3\u5185\u5b58"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"-n"),"\uff1a\u53ea\u5728\u5f00\u59cb\u65f6\u663e\u793a\u4e00\u6b21\u5404\u5b57\u6bb5\u540d\u79f0"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"-S"),"\uff1a\u4f7f\u7528\u6307\u5b9a\u5355\u4f4d\u663e\u793a\u3002k(1000)\u3001K(1024)\u3001m(1000000)\u3001M(1048576) \u5b57\u8282\uff0c\u9ed8\u8ba4\u5355\u4f4d\u4e3a K\u3002")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"interval \u548c count \u7684\u542b\u4e49\u4e0e mpstat \u4e00\u81f4")),(0,a.kt)("p",null,"\u5982\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"vmstat\n# procs -----------memory---------- ---swap-- -----io---- --system-- -----cpu------\n#  r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy  id wa st\n#  0  0      0 504544 119328 236716    0    0    46    30 1036   52  1  0  97  2  0\n#  0  0      0 504544 119336 236708    0    0     0     6 1002   28  0  0 100  0  0\n")),(0,a.kt)("p",null,"\u5176\u4e2d\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"p"},"procs")," \u5217\uff1a"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"r")," \u5217\uff1a\u8868\u793a\u8fd0\u884c\u548c\u7b49\u5f85CPU\u65f6\u95f4\u7247\u7684\u8fdb\u7a0b\u6570\uff0c\u8fd9\u4e2a\u503c\u82e5\u957f\u671f\u5927\u4e8e\u7cfb\u7edfCPU\u7684\u4e2a\u6570\uff0c\u8bf4\u660eCPU\u8d44\u6e90\u4e0d\u8db3\u3002"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"b")," \u5217\uff1a\u8868\u793a\u5728\u7b49\u5f85\u8d44\u6e90\u7684\u8fdb\u7a0b\u6570\uff0c\u6bd4\u5982\u6b63\u5728\u7b49\u5f85I/O\u3001\u6216\u8005\u5185\u5b58\u4ea4\u6362\u7b49\u3002"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"p"},"cpu")," \u5217\uff1a"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"us")," \u5217\uff1a\u663e\u793a\u4e86\u7528\u6237\u6001\u8fdb\u7a0b\u6d88\u8017\u7684CPU \u65f6\u95f4\u767e\u5206\u6bd4\uff1b"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"sy")," \u5217\uff1a\u663e\u793a\u4e86\u6838\u5fc3\u6001\u8fdb\u7a0b\u6d88\u8017\u7684CPU\u65f6\u95f4\u767e\u5206\u6bd4\u3002")),(0,a.kt)("p",{parentName:"li"},"us \u7684\u503c\u6bd4\u8f83\u9ad8\u65f6\u8bf4\u660e\u7528\u6237\u8fdb\u7a0b\u6d88\u8017\u7684CPU\u65f6\u95f4\u591a\uff0csy \u503c\u8f83\u9ad8\u65f6\u8bf4\u660e\u5185\u6838\u6d88\u8017\u7684CPU\u8d44\u6e90\u5f88\u591a\u3002\n\u6839\u636e\u7ecf\u9a8c\uff0cus+sy \u7684\u53c2\u8003\u503c\u4e3a80%\uff0c\u82e5 us+sy>80% \u8bf4\u660e\u53ef\u80fd\u5b58\u5728CPU\u8d44\u6e90\u4e0d\u8db3\u3002")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"p"},"memory")," \u5217\uff1a"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"swpd")," \u5217\uff1a\u8868\u793a\u5207\u6362\u5230\u5185\u5b58\u4ea4\u6362\u533a\u7684\u5185\u5b58\u6570\u91cf\uff08\u4ee5k\u4e3a\u5355\u4f4d\uff09\u3002\n\u82e5 swpd \u7684\u503c\u4e0d\u4e3a0\uff0c\u6216\u8005\u6bd4\u8f83\u5927\uff0c\u53ea\u8981si\u3001so\u7684\u503c\u957f\u671f\u4e3a0\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4e00\u822c\u4e0d\u7528\u62c5\u5fc3\uff0c\u4e0d\u4f1a\u5f71\u54cd\u7cfb\u7edf\u6027\u80fd\u3002"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"free")," \u5217\uff1a\u8868\u793a\u5f53\u524d\u7a7a\u95f2\u7684\u7269\u7406\u5185\u5b58\u6570\u91cf(\u4ee5k\u4e3a\u5355\u4f4d)\u3002"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"buff")," \u5217\uff1a\u8868\u793a buffers cache \u7684\u5185\u5b58\u6570\u91cf\uff0c\u4e00\u822c\u5bf9\u5757\u8bbe\u5907\u7684\u8bfb\u5199\u624d\u9700\u8981\u7f13\u51b2\u3002"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"cache")," \u5217\uff1a\u8868\u793a page cached \u7684\u5185\u5b58\u6570\u91cf\uff0c\u4e00\u822c\u4f5c\u4e3a\u6587\u4ef6\u7cfb\u7edfcached\uff0c\u9891\u7e41\u8bbf\u95ee\u7684\u6587\u4ef6\u90fd\u4f1a\u88ab cached\n\u82e5 cache \u503c\u8f83\u5927\uff0c\u8bf4\u660e cached \u7684\u6587\u4ef6\u6570\u8f83\u591a\uff0c\u5982\u679c\u6b64\u65f6 IO \u4e2d bi \u6bd4\u8f83\u5c0f\uff0c\u8bf4\u660e\u6587\u4ef6\u7cfb\u7edf\u6548\u7387\u6bd4\u8f83\u597d\u3002"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"p"},"swap")," \u5217\uff1a"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"si \u5217\uff1a\u8868\u793a\u7531\u78c1\u76d8\u8c03\u5165\u5185\u5b58\uff0c\u4e5f\u5c31\u662f\u5185\u5b58\u8fdb\u5165\u5185\u5b58\u4ea4\u6362\u533a\u7684\u6570\u91cf\u3002"),(0,a.kt)("li",{parentName:"ul"},"so \u5217\uff1a\u8868\u793a\u7531\u5185\u5b58\u8c03\u5165\u78c1\u76d8\uff0c\u4e5f\u5c31\u662f\u5185\u5b58\u4ea4\u6362\u533a\u8fdb\u5165\u5185\u5b58\u7684\u6570\u91cf\u3002")),(0,a.kt)("p",{parentName:"li"},"\u4e00\u822c\u60c5\u51b5\u4e0b\uff0csi\u3001so \u7684\u503c\u90fd\u4e3a0\uff0c\u5982\u679c si\u3001so \u7684\u503c\u957f\u671f\u4e0d\u4e3a0\uff0c\u5219\u8868\u793a\u7cfb\u7edf\u5185\u5b58\u4e0d\u8db3\u3002"))))}o.isMDXComponent=!0}}]);